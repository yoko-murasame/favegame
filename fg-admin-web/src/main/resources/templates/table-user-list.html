<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<!--<meta name="_csrf" th:content="${_csrf.token}" />-->
		<!--<meta name="_csrf_header" th:content="${_csrf.headerName}" />-->
		<title>Fave Game Admin index Examples</title>
		<meta name="description" content="这是一个 index 页面">
		<meta name="keywords" content="index">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="renderer" content="webkit">
		<meta http-equiv="Cache-Control" content="no-siteapp" />
		<link rel="icon" type="image/png" href="/assets/i/favicon.png">
		<link rel="apple-touch-icon-precomposed" href="/assets/i/app-icon72x72@2x.png">
		<meta name="apple-mobile-web-app-title" content="Fave Game" />
		<link rel="stylesheet" href="/assets/css/amazeui.min.css" />
		<link rel="stylesheet" href="/assets/css/admin.css">
		<link rel="stylesheet" href="/assets/css/app.css">
		<style>
			.my-modal-info {
				width: 60px;
			}
			
			.am-modal-bd {
				text-align: center;
			}
		</style>
	</head>

	<body data-type="generalComponents">

		<header class="am-topbar am-topbar-inverse admin-header">
			<div class="am-topbar-brand">
				<a href="javascript:;" class="tpl-logo">
					<img src="/assets/img/logo.png" alt="">
				</a>
			</div>
			<div class="am-icon-list tpl-header-nav-hover-ico am-fl am-margin-right">

			</div>

			<button class="am-topbar-btn am-topbar-toggle am-btn am-btn-sm am-btn-success am-show-sm-only" data-am-collapse="{target: '#topbar-collapse'}"><span class="am-sr-only">导航切换</span> <span
            class="am-icon-bars"></span></button>

			<div class="am-collapse am-topbar-collapse" id="topbar-collapse">

				<ul class="am-nav am-nav-pills am-topbar-nav am-topbar-right admin-header-list tpl-header-list">
					<li class="am-dropdown" data-am-dropdown data-am-dropdown-toggle>
						<a class="am-dropdown-toggle tpl-header-list-link" href="javascript:;">
							<span class="am-icon-bell-o"></span> 提醒 <span class="am-badge tpl-badge-success am-round">5</span></span>
						</a>
						<ul class="am-dropdown-content tpl-dropdown-content">
							<li class="tpl-dropdown-content-external">
								<h3>你有 <span class="tpl-color-success">5</span> 条提醒</h3>
								<a href="###">全部</a>
							</li>
							<li class="tpl-dropdown-list-bdbc">
								<a href="#" class="tpl-dropdown-list-fl"><span class="am-icon-btn am-icon-plus tpl-dropdown-ico-btn-size tpl-badge-success"></span> 【预览模块】移动端 查看时 手机、电脑框隐藏。</a>
								<span class="tpl-dropdown-list-fr">3小时前</span>
							</li>
							<li class="tpl-dropdown-list-bdbc">
								<a href="#" class="tpl-dropdown-list-fl"><span class="am-icon-btn am-icon-check tpl-dropdown-ico-btn-size tpl-badge-danger"></span> 移动端，导航条下边距处理
								</a>
								<span class="tpl-dropdown-list-fr">15分钟前</span>
							</li>
							<li class="tpl-dropdown-list-bdbc">
								<a href="#" class="tpl-dropdown-list-fl"><span class="am-icon-btn am-icon-bell-o tpl-dropdown-ico-btn-size tpl-badge-warning"></span> 追加统计代码
								</a>
								<span class="tpl-dropdown-list-fr">2天前</span>
							</li>
						</ul>
					</li>
					<li class="am-dropdown" data-am-dropdown data-am-dropdown-toggle>
						<a class="am-dropdown-toggle tpl-header-list-link" href="javascript:;">
							<span class="am-icon-comment-o"></span> 消息 <span class="am-badge tpl-badge-danger am-round">9</span></span>
						</a>
						<ul class="am-dropdown-content tpl-dropdown-content">
							<li class="tpl-dropdown-content-external">
								<h3>你有 <span class="tpl-color-danger">9</span> 条新消息</h3>
								<a href="###">全部</a>
							</li>
							<li>
								<a href="#" class="tpl-dropdown-content-message">
									<span class="tpl-dropdown-content-photo">
                      <img src="/assets/img/user02.png" alt=""> </span>
									<span class="tpl-dropdown-content-subject">
                      <span class="tpl-dropdown-content-from"> 禁言小张 </span>
									<span class="tpl-dropdown-content-time">10分钟前 </span>
									</span>
									<span class="tpl-dropdown-content-font"> Fave Game 的诞生，依托于 GitHub 及其他技术社区上一些优秀的资源；Fave Game 的成长，则离不开用户的支持。 </span>
								</a>
								<a href="#" class="tpl-dropdown-content-message">
									<span class="tpl-dropdown-content-photo">
                      <img src="/assets/img/user03.png" alt=""> </span>
									<span class="tpl-dropdown-content-subject">
                      <span class="tpl-dropdown-content-from"> Steam </span>
									<span class="tpl-dropdown-content-time">18分钟前</span>
									</span>
									<span class="tpl-dropdown-content-font"> 为了能最准确的传达所描述的问题， 建议你在反馈时附上演示，方便我们理解。 </span>
								</a>
							</li>

						</ul>
					</li>
					<li class="am-dropdown" data-am-dropdown data-am-dropdown-toggle>
						<a class="am-dropdown-toggle tpl-header-list-link" href="javascript:;">
							<span class="am-icon-calendar"></span> 进度 <span class="am-badge tpl-badge-primary am-round">4</span></span>
						</a>
						<ul class="am-dropdown-content tpl-dropdown-content">
							<li class="tpl-dropdown-content-external">
								<h3>你有 <span class="tpl-color-primary">4</span> 个任务进度</h3>
								<a href="###">全部</a>
							</li>
							<li>
								<a href="javascript:;" class="tpl-dropdown-content-progress">
									<span class="task">
                        <span class="desc">Fave Game 用户中心 v1.2 </span>
									<span class="percent">45%</span>
									</span>
									<span class="progress">
                        <div class="am-progress tpl-progress am-progress-striped"><div
                                class="am-progress-bar am-progress-bar-success" style="width:45%"></div></div>
                    </span>
								</a>
							</li>
							<li>
								<a href="javascript:;" class="tpl-dropdown-content-progress">
									<span class="task">
                        <span class="desc">新闻内容页 </span>
									<span class="percent">30%</span>
									</span>
									<span class="progress">
                       <div class="am-progress tpl-progress am-progress-striped"><div
                               class="am-progress-bar am-progress-bar-secondary" style="width:30%"></div></div>
                    </span>
								</a>
							</li>
							<li>
								<a href="javascript:;" class="tpl-dropdown-content-progress">
									<span class="task">
                        <span class="desc">管理中心 </span>
									<span class="percent">60%</span>
									</span>
									<span class="progress">
                        <div class="am-progress tpl-progress am-progress-striped"><div
                                class="am-progress-bar am-progress-bar-warning" style="width:60%"></div></div>
                    </span>
								</a>
							</li>

						</ul>
					</li>
					<li class="am-hide-sm-only">
						<a href="javascript:;" id="admin-fullscreen" class="tpl-header-list-link"><span class="am-icon-arrows-alt"></span> <span class="admin-fullText">开启全屏</span></a>
					</li>

					<li class="am-dropdown" data-am-dropdown data-am-dropdown-toggle>
						<a class="am-dropdown-toggle tpl-header-list-link" href="javascript:;">
							<span class="tpl-header-list-user-nick">禁言小张</span><span class="tpl-header-list-user-ico"> <img
                        src="/assets/img/user01.png"></span>
						</a>
						<ul class="am-dropdown-content">
							<li>
								<a href="#"><span class="am-icon-bell-o"></span> 资料</a>
							</li>
							<li>
								<a href="#"><span class="am-icon-cog"></span> 设置</a>
							</li>
							<li>
								<a href="#"><span class="am-icon-power-off"></span> 退出</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="###" class="tpl-header-list-link"><span class="am-icon-sign-out tpl-header-list-ico-out-size"></span></a>
					</li>
				</ul>
			</div>
		</header>

		<div class="tpl-page-container tpl-page-header-fixed">

			<div class="tpl-left-nav tpl-left-nav-hover">
				<div class="tpl-left-nav-title">
					Fave Game 列表
				</div>
				<div class="tpl-left-nav-list">
					<ul class="tpl-left-nav-menu">
						<li class="tpl-left-nav-item">
							<a href="index.html" class="nav-link active">
								<i class="am-icon-home"></i>
								<span>首页</span>
							</a>
						</li>
						<li class="tpl-left-nav-item">
							<a href="chart.html" class="nav-link tpl-left-nav-link-list">
								<i class="am-icon-bar-chart"></i>
								<span>数据表</span>
								<i class="tpl-left-nav-content tpl-badge-danger">
                            12
                        </i>
							</a>
						</li>

						<li class="tpl-left-nav-item">
							<!-- 打开状态 a 标签添加 active 即可   -->
							<a href="javascript:;" class="nav-link tpl-left-nav-link-list active">
								<i class="am-icon-table"></i>
								<span>表格</span>
								<!-- 列表打开状态的i标签添加 tpl-left-nav-more-ico-rotate 图表即90°旋转  -->
								<i class="am-icon-angle-right tpl-left-nav-more-ico am-fr am-margin-right tpl-left-nav-more-ico-rotate"></i>
							</a>
							<ul class="tpl-left-nav-sub-menu" style="display:block">
								<li>
									<!-- 打开状态 a 标签添加 active 即可   -->
									<a href="table-font-list.html" class="active">
										<i class="am-icon-angle-right"></i>
										<span>文字表格</span>
										<i class="am-icon-star tpl-left-nav-content-ico am-fr am-margin-right"></i>
									</a>

									<a href="table-images-list.html">
										<i class="am-icon-angle-right"></i>
										<span>图片表格</span>
										<i class="tpl-left-nav-content tpl-badge-success">18</i>

										<a href="form-news.html">
											<i class="am-icon-angle-right"></i>
											<span>消息列表</span>
											<i class="tpl-left-nav-content tpl-badge-primary">5</i>

											<a href="form-news-list.html">
												<i class="am-icon-angle-right"></i>
												<span>文字列表</span>

											</a>
										</a>
									</a>
								</li>
							</ul>
						</li>

						<li class="tpl-left-nav-item">
							<a href="javascript:;" class="nav-link tpl-left-nav-link-list">
								<i class="am-icon-wpforms"></i>
								<span>表单</span>
								<i class="am-icon-angle-right tpl-left-nav-more-ico am-fr am-margin-right"></i>
							</a>
							<ul class="tpl-left-nav-sub-menu">
								<li>
									<a href="form-amazeui.html">
										<i class="am-icon-angle-right"></i>
										<span>Fave Game 表单</span>
										<i class="am-icon-star tpl-left-nav-content-ico am-fr am-margin-right"></i>
									</a>

									<a href="form-line.html">
										<i class="am-icon-angle-right"></i>
										<span>线条表单</span>
									</a>
								</li>
							</ul>
						</li>

						<li class="tpl-left-nav-item">
							<a href="login.html" class="nav-link tpl-left-nav-link-list">
								<i class="am-icon-key"></i>
								<span>登录</span>

							</a>
						</li>
					</ul>
				</div>
			</div>

			<div class="tpl-content-wrapper">
				<div class="tpl-content-page-title">
					Fave Game 用户管理
				</div>
				<ol class="am-breadcrumb">
					<li>
						<a href="#" class="am-icon-home">首页</a>
					</li>
					<li>
						<a href="#">Fave Game CSS</a>
					</li>
					<li class="am-active">用户管理</li>
				</ol>
				<div class="tpl-portlet-components">
					<div class="portlet-title">
						<div class="caption font-green bold">
							<!-- <span class="am-icon-code"></span>-->用户列表
						</div>
						<!--<div class="tpl-portlet-input tpl-fz-ml">
							<div class="portlet-input input-small input-inline">
								<div class="input-icon right">
									<i class="am-icon-search"></i>
									<input type="text" class="form-control form-control-solid" placeholder="搜索..."></div>
							</div>
						</div>-->
					</div>
					<div class="tpl-block">
						<div class="am-g">
							<div class="am-u-sm-12 am-u-md-6">
								<div class="am-btn-toolbar">
									<div class="am-btn-group am-btn-group-xs">
										<button type="button" class="am-btn am-btn-default am-btn-success" data-am-modal="{target: '#my-modal-add', closeViaDimmer: 0,width: 250}"><span
                                        class="am-icon-plus"></span> 新增
                                </button>
										<button type="button" class="am-btn am-btn-default am-btn-secondary"><span
                                        class="am-icon-save"></span> 保存
                                </button>
										<button type="button" class="am-btn am-btn-default am-btn-warning"><span
                                        class="am-icon-archive"></span> 审核
                                </button>
										<button type="button" class="am-btn am-btn-default am-btn-danger"><span
                                        class="am-icon-trash-o"></span> 删除
                                </button>
									</div>
								</div>
							</div>
							<div class="am-u-sm-12 am-u-md-3">
								<div class="am-form-group">
									<select data-am-selected="{btnSize: 'sm'}">
										<option value="option1">查询方式</option>
										<option value="option2">用户名</option>
										<option value="option3">联系电话</option>
										<option value="option4">QQ</option>
										<option value="option5">微信</option>
									</select>
								</div>
							</div>
							<div class="am-u-sm-12 am-u-md-3">
								<div class="am-input-group am-input-group-sm">
									<input type="text" class="am-form-field" id="text-search-user">
									<span class="am-input-group-btn">
            							<button type="button"  class="am-btn am-btn-default am-btn-success tpl-am-btn-success am-icon-search"id="btn-search-user"></button>
          							</span>
								</div>
							</div>
						</div>
						<div class="am-g">
							<div class="am-u-sm-12">
								<form class="am-form">
									<table class="am-table am-table-striped am-table-hover table-main">
										<thead>
											<tr>
												<th class="table-check"><input type="checkbox" class="tpl-table-fz-check"></th>
												<th class="table-id">ID</th>
												<th class="table-title">用户名</th>
												<th class="table-type">联系电话</th>
												<th class="table-author am-hide-sm-only">QQ</th>
												<th class="table-date am-hide-sm-only">微信</th>
												<th class="table-set">操作</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="user : ${users.records}">
												<td><input type="checkbox"></td>
												<td th:text="${{user.id}}">15</td>
												<td th:text="${{user.gmUsername}}"></td>
												<td th:text="${{user.gmUserPhone}}"></td>
												<td class="am-hide-sm-only" th:text="${{user.gmUserQQ}}"></td>
												<td class="am-hide-sm-only" th:text="${{user.gmUserWechat}}"></td>
												<td>
													<div class="am-btn-toolbar">
														<div class="am-btn-group am-btn-group-xs">
															<button type="button" class="am-btn am-btn-default am-btn-xs am-text-secondary btn-edit-user" data-am-modal="{target: '#my-modal-edit', closeViaDimmer: 0,width: 250}">
																<span class="am-icon-pencil-square-o" ></span> 编辑
                                                			</button>
															<button type="button" class="am-btn am-btn-default am-btn-xs am-hide-sm-only">
																<span class="am-icon-copy"></span> 复制
                                                			</button>
															<button type="button" class="am-btn am-btn-default am-btn-xs am-text-danger am-hide-sm-only btn-delete-user" data-am-modal="{target: '#my-modal-delete', closeViaDimmer: 0,width: 250}">
                                                    			<span class="am-icon-trash-o"></span> 删除
                                                			</button>
														</div>
													</div>
												</td>
											</tr>
										</tbody>
									</table>
									<div class="am-cf">
										<div class="am-fr">
											<ul class="am-pagination tpl-pagination">
												<li th:class="${users.current==1}?'am-disabled'">
													<a th:href="@{'/admin/userManage/'+${users.current-1}}">«</a>
												</li>
												<li th:class="${users.current==1}?'am-active'">
													<a href="/admin/userManage/1">1</a>
												</li>
												<li th:class="${users.current==2}?'am-active'">
													<a href="/admin/userManage/2">2</a>
												</li>
												<li th:class="${users.current==3}?'am-active'">
													<a href="/admin/userManage/3">3</a>
												</li>
												<li th:class="${users.current==4}?'am-active'">
													<a href="/admin/userManage/4">4</a>
												</li>
												<li th:class="${users.current==5}?'am-active'">
													<a href="/admin/userManage/5">5</a>
												</li>
												<li th:class="${users.current==5}?'am-disabled'">
													<a th:href="@{'/admin/userManage/'+${users.current+1}}">»</a>
												</li>
											</ul>
										</div>
									</div>
									<hr>
								</form>
							</div>
						</div>
					</div>
					<div class="tpl-alert"></div>
				</div>
			</div>
			<!--新增模态框-->
			<div class="am-modal am-modal-alert" tabindex="-1" id="my-modal-add">
				<div class="am-modal-dialog">
					<div class="am-modal-bd">
						<div class="am-input-group">
							<span class="am-input-group-label my-modal-info"><i
                                                    class="am-icon-user"></i></span>
							<input type="text" class="am-form-field" placeholder="Username" id="user-username-add">
						</div>
						<div class="am-input-group">
							<span class="am-input-group-label my-modal-info"><i
                                                    class="am-icon-phone"></i></span>
							<input type="text" class="am-form-field" placeholder="Phone" id="user-phone-add">
						</div>
						<div class="am-input-group">
							<span class="am-input-group-label my-modal-info"><i class="am-icon-qq"></i></span>
							<input type="text" class="am-form-field" placeholder="QQ" id="user-qq-add">
						</div>
						<div class="am-input-group">
							<span class="am-input-group-label my-modal-info"><i
                                                    class="am-icon-wechat"></i></span>
							<input type="text" class="am-form-field" placeholder="Wechat" id="user-wechat-add">
						</div>
					</div>
					<div class="am-modal-footer">
						<span class="am-modal-btn" id="btn-add-user-confirm">添加</span>
						<span class="am-modal-btn">关闭</span>
					</div>
				</div>
			</div>
			<!--end 新增模态框-->
			<!--编辑模态框-->
			<div class="am-modal am-modal-alert" tabindex="-1" id="my-modal-edit">
				<div class="am-modal-dialog">
					<div class="am-modal-bd">
						<div class="am-input-group">
							<span class="am-input-group-label my-modal-info"><i
                                                    class="am-icon-user"></i></span>
							<input type="text" class="am-form-field" placeholder="Username" id="user-username-edit">
						</div>
						<div class="am-input-group">
							<span class="am-input-group-label my-modal-info"><i
                                                    class="am-icon-phone"></i></span>
							<input type="text" class="am-form-field" placeholder="Phone" id="user-phone-edit">
						</div>
						<div class="am-input-group">
							<span class="am-input-group-label my-modal-info"><i class="am-icon-qq"></i></span>
							<input type="text" class="am-form-field" placeholder="QQ" id="user-qq-edit">
						</div>
						<div class="am-input-group">
							<span class="am-input-group-label my-modal-info"><i
                                                    class="am-icon-wechat"></i></span>
							<input type="text" class="am-form-field" placeholder="Wechat" id="user-wechat-edit">
						</div>
					</div>
					<input type="text" id="user-id-edit" style="display: none;" />
					<div class="am-modal-footer">
						<span class="am-modal-btn" id="btn-edit-user-confirm">修改</span>
						<span class="am-modal-btn">关闭</span>
					</div>
				</div>
			</div>
			<!--end 删除模态框-->
			<div class="am-modal am-modal-alert" tabindex="-1" id="my-modal-delete">
				<div class="am-modal-dialog">
					<div class="am-modal-bd">
						<div class="am-input-group">
							<span class="am-input-group-label my-modal-info"><i
                                                    class="am-icon-user"></i></span>
							<input type="text" class="am-form-field" placeholder="输入用户名确认删除" id="user-reusername-delete">
						</div>
					</div>
					<input type="text" id="user-username-delete" style="display: none;" />
					<input type="text" id="user-id-delete" style="display: none;" />
					<div class="am-modal-footer">
						<span class="am-modal-btn" id="btn-delete-user-confirm">删除</span>
						<span class="am-modal-btn">关闭</span>
					</div>
				</div>
			</div>
			<!--end 删除模态框-->

		</div>

		<script src="/assets/js/jquery.min.js"></script>
		<script src="/assets/js/amazeui.min.js"></script>
		<script src="/assets/js/app.js"></script>
		<script type="text/javascript">
			$(function() {
				console.log();
				$("#btn-add-user-confirm").click(function() {
					var user = {};
					user.gmUsername = $("#user-username-add").val();
					user.gmUserPhone = $("#user-phone-add").val();
					user.gmUserQQ = $("#user-qq-add").val();
					user.gmUserWechat = $("#user-wechat-add").val();
					console.log(user);
					$.ajax({
						type: "post",
						url: "userManage/add",
						data: user,
						success: function(back) {
							alert("添加成功");
							location.reload();
						},
						error: function(XMLHttpRequest, textStatus, errorThrown) {
							console.log("error");
						}
					});
				});
				$("#btn-edit-user-confirm").click(function() {
					var user = {};
					user.id = $("#user-id-edit").val();
					user.gmUsername = $("#user-username-edit").val();
					user.gmUserPhone = $("#user-phone-edit").val();
					user.gmUserQQ = $("#user-qq-edit").val();
					user.gmUserWechat = $("#user-wechat-edit").val();
					console.log(user);
					$.ajax({
						type: "post",
						url: "userManage/edit",
						data: user,
						success: function(back) {
							alert("修改成功");
							location.reload();
						},
						error: function(XMLHttpRequest, textStatus, errorThrown) {
							console.log("error");
						}
					});
				});
				$("#btn-delete-user-confirm").click(function() {
					var reusername = $("#user-reusername-delete").val();
					var username = $("#user-username-delete").val();
					var id = $("#user-id-delete").val();
					var user = {};
					user.id = id;
					if(username == reusername) {
						$.ajax({
							type: "post",
							url: "delete",
							data: user,
							success: function(back) {
								alert("删除成功")
								location.reload();
							},
							error: function(XMLHttpRequest, textStatus, errorThrown) {
								console.log("error");
							}
						});
					} else {
						alert("用户名不一致");
					}
				});

				$(".btn-edit-user").click(function() {
					var info = $(this).parent().parent().parent().parent();
					$("#user-id-edit").val(info.children()[1].innerText);
					$("#user-username-edit").val(info.children()[2].innerText);
					$("#user-phone-edit").val(info.children()[3].innerText);
					$("#user-qq-edit").val(info.children()[4].innerText);
					$("#user-wechat-edit").val(info.children()[5].innerText);
				});

				$(".btn-delete-user").click(function() {
					var info = $(this).parent().parent().parent().parent();
					$("#user-id-delete").val(info.children()[1].innerText);
					$("#user-username-delete").val(info.children()[2].innerText);
				});

				$("#btn-search-user").click(function() {
					var index = $(".am-checked").index();
					var condition = $("#text-search-user").val();
					console.log(condition);
					var user = {};
					switch(index) {
						case 1: //用户名
							user.gmUsername = condition;
							window.href="/admin/search/";
							break;
						case 2: //联系电话
							user.gmUserPhone = condition;
							break;
						case 3: //QQ
							user.gmUserQQ = condition;
							break;
						case 4: //微信
							user.gmUserWechat = condition;
							break;
						default:
							break;
					}
					console.log(user);
				});
			});
		</script>
	</body>

</html>